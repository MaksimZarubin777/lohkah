{"ast":null,"code":"import _classCallCheck from\"/Users/maksim/Desktop/dev/lohkah/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/maksim/Desktop/dev/lohkah/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._options=options;this._baseUrl=this._options.baseUrl;this._headers=this._options.headers;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status));}},{key:\"login\",value:function login(name,password){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,password:password}),credentials:'include'}).then(function(res){return _this._getResponseData(res);});}},{key:\"register\",value:function register(name,department,password,confirmation){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/signup\"),{method:'POST',headers:{Accept:'application/json','Content-type':'application/json'},body:JSON.stringify({name:name,department:department,password:password,confirmation:confirmation}),credentials:'include'}).then(function(res){return _this2._getResponseData(res);});}},{key:\"addData\",value:function addData(department,lesson,cn,eng,example){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/add\"),{method:'POST',headers:{Accept:'application/json','Content-type':'application/json'},body:JSON.stringify({department:department,lesson:lesson,cn:cn,eng:eng,example:example}),credentials:'include'}).then(function(res){return _this3._getResponseData(res);});}}]);return Api;}();var MainApi=new Api({baseUrl:'http://localhost:3000'});export default MainApi;","map":{"version":3,"names":["Api","options","_classCallCheck","_options","_baseUrl","baseUrl","_headers","headers","_createClass","key","value","_getResponseData","res","ok","json","Promise","reject","concat","status","login","name","password","_this","fetch","method","body","JSON","stringify","credentials","then","register","department","confirmation","_this2","Accept","addData","lesson","cn","eng","example","_this3","MainApi"],"sources":["/Users/maksim/Desktop/dev/lohkah/frontend/src/utils/MainApi.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this._options = options;\n    this._baseUrl = this._options.baseUrl;\n    this._headers = this._options.headers;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  login(name, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        name,\n        password,\n      }),\n      credentials: 'include',\n    })\n      .then((res) => this._getResponseData(res));\n  }\n\n  register(name, department, password, confirmation) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify( {name, department, password, confirmation} ),\n      credentials: 'include',\n    })\n    .then((res) => this._getResponseData(res))\n  }\n\n  addData(department, lesson, cn, eng, example) {\n    return fetch(`${this._baseUrl}/add`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify( {department, lesson, cn, eng, example} ),\n      credentials: 'include'\n    })\n  .then((res) => this._getResponseData(res))\n  }\n}\n\nconst MainApi = new Api({\n  baseUrl: 'http://localhost:3000'\n});\n\nexport default MainApi;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}