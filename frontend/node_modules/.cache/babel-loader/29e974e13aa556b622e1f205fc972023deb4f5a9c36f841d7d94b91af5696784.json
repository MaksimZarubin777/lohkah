{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._options = options;\n    this._baseUrl = this._options._baseUrl;\n    this._headers = this._options._headers;\n  }\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n  login(name, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        password\n      }),\n      credentials: 'include'\n    }).then(res => this._getResponseData(res));\n  }\n}\nconst MainApi = new Api({\n  baseUrl: 'http://localhost:3000/ohkah'\n});\nexport default MainApi;","map":{"version":3,"names":["Api","constructor","options","_options","_baseUrl","_headers","_getResponseData","res","ok","json","Promise","reject","status","login","name","password","fetch","method","headers","body","JSON","stringify","credentials","then","MainApi","baseUrl"],"sources":["/Users/maksim/Desktop/dev/lohkah/src/utils/MainApi.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this._options = options;\n    this._baseUrl = this._options._baseUrl;\n    this._headers = this._options._headers\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  login(name, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        name,\n        password,\n      }),\n      credentials: 'include',\n    })\n    .then((res) => this._getResponseData(res))\n  }\n}\n\nconst MainApi = new Api({\n  baseUrl: 'http://localhost:3000/ohkah'\n});\n\nexport default MainApi;\n\n"],"mappings":"AAAA,MAAMA,GAAG,CAAC;EACRC,WAAWA,CAACC,OAAO,EAAE;IACnB,IAAI,CAACC,QAAQ,GAAGD,OAAO;IACvB,IAAI,CAACE,QAAQ,GAAG,IAAI,CAACD,QAAQ,CAACC,QAAQ;IACtC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACF,QAAQ,CAACE,QAAQ;EACxC;EAEAC,gBAAgBA,CAACC,GAAG,EAAE;IACpB,IAAIA,GAAG,CAACC,EAAE,EAAE;MACV,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;IACnB;IACA,OAAOC,OAAO,CAACC,MAAM,CAAE,UAASJ,GAAG,CAACK,MAAO,EAAC,CAAC;EAC/C;EAEAC,KAAKA,CAACC,IAAI,EAAEC,QAAQ,EAAE;IACpB,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACZ,QAAS,SAAQ,EAAE;MACtCa,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBP,IAAI;QACJC;MACF,CAAC,CAAC;MACFO,WAAW,EAAE;IACf,CAAC,CAAC,CACDC,IAAI,CAAEhB,GAAG,IAAK,IAAI,CAACD,gBAAgB,CAACC,GAAG,CAAC,CAAC;EAC5C;AACF;AAEA,MAAMiB,OAAO,GAAG,IAAIxB,GAAG,CAAC;EACtByB,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,eAAeD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}